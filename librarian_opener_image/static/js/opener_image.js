// Generated by CoffeeScript 1.10.0
(function(window, $) {
  'use strict';
  var imgEl, loadImage, nextButton, nextImage, prevButton, prevImage, urls;
  urls = JSON.parse($('#image-urls').html()).urls;
  imgEl = $('.image-container img');
  prevButton = $('.previous');
  nextButton = $('.next');
  loadImage = function(imgIndex) {
    if (imgIndex < 0 || imgIndex >= urls.length) {
      return;
    }
    imgEl.data('index', imgIndex);
    imgEl.fadeOut(function() {
      imgEl.attr('src', urls[imgIndex]);
      return imgEl.fadeIn();
    });
    if (imgIndex === 0) {
      prevButton.css('visibility', 'hidden');
    } else {
      prevButton.css('visibility', 'visible');
    }
    if (imgIndex === urls.length - 1) {
      return nextButton.css('visibility', 'hidden');
    } else {
      return nextButton.css('visibility', 'visible');
    }
  };
  prevImage = function(e) {
    loadImage(parseInt(imgEl.data('index'), 10) - 1);
    return e.preventDefault();
  };
  nextImage = function(e) {
    loadImage(parseInt(imgEl.data('index'), 10) + 1);
    return e.preventDefault();
  };
  prevButton.click(prevImage);
  return nextButton.click(nextImage);
})(this, this.jQuery);
